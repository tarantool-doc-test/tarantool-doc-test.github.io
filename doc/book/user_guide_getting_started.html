




<!doctype html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>2. Getting started</title>
    <link rel="shortcut icon" href="/theme/favicon.ico" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.6.7-521-g0d75d50',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/jquery.pin.min.js"></script>
    <script type="text/javascript" src="../_static/headers.js"></script>
    <link rel="stylesheet" href="/theme/design.css">
    <link rel="stylesheet" href="/theme/pygmentize.css">
    <link rel="stylesheet" href="../_static/sphinx_design.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
     
    <!--[if lt IE 9]>
      <script src="/js/ie8.js"></script>
      <link rel="stylesheet" href="/theme/ie8.css" />
    <![endif]-->
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-22120502-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- Rating@Mail.ru counter -->
<script type="text/javascript">
  var _tmr = _tmr || [];
  _tmr.push({id: "2284916", type: "pageView", start: (new Date()).getTime()});
  (function (d, w) {
    var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true;
    ts.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//top-fwz1.mail.ru/js/code.js";
    var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};
    if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }
  })(document, window);
</script>
<noscript>
  <div style="position:absolute;left:-10000px;">
    <img src="//top-fwz1.mail.ru/counter?id=2284916;js=na" style="border:0;"
         height="1" width="1" alt="Рейтинг@Mail.ru" />
  </div>
</noscript>
<!-- //Rating@Mail.ru counter -->


  </head>
  
  <body class="p-cols_design">
  
    <div class="b-wrapper">
      <!-- HEADER > -->
      <header class="b-header">
        <div class="b-header-wrapper">
          <nav class="b-header_menu">
            
  <ul class="b-menu">
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org" class="b-menu-item-url">Overview</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://try.tarantool.org" class="b-menu-item-url">Try</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/doc/" class="b-menu-item-url p-active">Documentation</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/download.html" class="b-menu-item-url">Download</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/careers.html" class="b-menu-item-url">Careers</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://rocks.tarantool.org" class="b-menu-item-url">Rocks</a>
        
      </li>
    
  </ul>

          </nav>
        </div>
      </header>
      <!-- < HEADER -->

      <div class="b-content b-clearbox">
        
  
  <section class="b-lightgray_block b-documentation_top b-clearbox p-documentation_in">
  
    <div class="b-block-wrapper">
      <h2 class="b-section-title">2. Getting started</h2>
      
    </div>
  </section>
  <div class="b-cols_content b-clearbox">
    <div class="b-cols_content_left">
      
      
<form id="searchbox" role="search" class="search b-search" action="../search.html" method="get">
  <input class="b-search-text" name="q" type="text"/ placeholder="Search the manual">
  <input class="b-search-but" type="submit" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>


      
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">1. Preface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">2. Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="box/index.html">3. Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="replication/index.html">4. Replication</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/index.html">5. Configuration reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="administration.html">6. Server administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectors/index.html">7. Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="app/a_errcodes.html">8. Appendix A. List of error codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="app/b_proctitle.html">9. Appendix B. Process title</a></li>
<li class="toctree-l2"><a class="reference internal" href="app/c_lua_tutorial.html">10. Appendix C. Lua tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="app/d_plugins.html">11. Appendix D. Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="app/e_sophia/index.html">12. Appendix E. Sophia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Contributing</a></li>
</ul>

    </div>
    <div class="b-cols_content_right">
      <div class="b-cols_content_right-slot">
  

<div class="b-page_header">
  <ul class="b-path-list">
    <li class="b-path-list-item">
      <a href="/doc/" class="b-path-list-item-url">Documentation</a>
    </li>
  
    <li class="b-path-list-item">
      <a href="index.html" class="b-path-list-item-url">User Guide</a>
    </li>
  
    <li class="b-path-list-item"><span class="b-path_current">2. Getting started</span></li>
  </ul>
</div>

<article class="b-article">
          
          
  <div class="section" id="getting-started">
<h1>2. Getting started<a class="headerlink" href="#getting-started" title="Ссылка на этот заголовок">¶</a></h1>
<p>If the installation has already been done, then you should try it out. So we've
provided some instructions that you can use to make a temporary “sandbox”. In a
few minutes you can start the server and type in some database-manipulation
statements. The section about sandbox is “<a class="reference internal" href="#starting-tarantool-and-making-your-first-database">Starting Tarantool and making your first database</a>”.</p>
<div class="section" id="starting-tarantool-and-making-your-first-database">
<span id="first-database"></span><h2>2.1. Starting Tarantool and making your first database<a class="headerlink" href="#starting-tarantool-and-making-your-first-database" title="Ссылка на этот заголовок">¶</a></h2>
<p>Here is how to create a simple test database after installing.</p>
<p>Create a new directory. It's just for tests, you can delete it when the tests are over.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> mkdir ~/tarantool_sandbox
<span class="gp">$</span> <span class="nb">cd</span> ~/tarantool_sandbox
</pre></div>
</div>
<p>Start the server. The server name is tarantool.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> <span class="c"># if you downloaded a binary with apt-get or yum, say this:</span>
<span class="gp">$</span> /usr/bin/tarantool
<span class="gp">$</span> <span class="c"># if you downloaded and untarred a binary</span>
<span class="gp">$</span> <span class="c"># tarball to ~/tarantool, say this:</span>
<span class="gp">$</span> ~/tarantool/bin/tarantool
<span class="gp">$</span> <span class="c"># if you built from a source download, say this:</span>
<span class="gp">$</span> ~/tarantool/src/tarantool
</pre></div>
</div>
<p>The server starts in interactive mode and outputs a command prompt.
To turn on the database, <a class="reference internal" href="box/box_introspection.html#lua-module.box.cfg" title="box.cfg"><code class="xref lua lua-mod docutils literal"><span class="pre">configure</span></code></a> it. This minimal example is sufficient:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">cfg</span><span class="p">{</span><span class="n">listen</span> <span class="o">=</span> <span class="mi">3301</span><span class="p">}</span>
</pre></div>
</div>
<p>If all goes well, you will see the server displaying progress as it
initializes, something like this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">cfg</span><span class="p">{</span><span class="n">listen</span> <span class="o">=</span> <span class="mi">3301</span><span class="p">}</span>
<span class="go">2014-08-07 09:41:41.077 ... version 1.6.3-439-g7e1011b</span>
<span class="go">2014-08-07 09:41:41.077 ... log level 5</span>
<span class="go">2014-08-07 09:41:41.078 ... mapping 1073741824 bytes for a shared arena...</span>
<span class="go">2014-08-07 09:41:41.079 ... initialized</span>
<span class="go">2014-08-07 09:41:41.081 ... initializing an empty data directory</span>
<span class="go">2014-08-07 09:41:41.095 ... creating &#39;./00000000000000000000.snap.inprogress&#39;</span>
<span class="go">2014-08-07 09:41:41.095 ... saving snapshot &#39;./00000000000000000000.snap.inprogress&#39;</span>
<span class="go">2014-08-07 09:41:41.127 ... done</span>
<span class="go">2014-08-07 09:41:41.128 ... primary: bound to 0.0.0.0:3301</span>
<span class="go">2014-08-07 09:41:41.128 ... ready to accept requests</span>
</pre></div>
</div>
<p>Now that the server is up, you could start up a different shell
and connect to its primary port with:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> telnet <span class="m">0</span> 3301
</pre></div>
</div>
<p>but for example purposes it is simpler to just leave the server
running in &quot;interactive mode&quot;. On production machines the
interactive mode is just for administrators, but because it's
convenient for learning it will be used for most examples in
this manual. Tarantool is waiting for the user to type instructions.</p>
<p>To create the first space and the first <a class="reference internal" href="box/index.html#box-index"><span>index</span></a>, try this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">tester&#39;</span><span class="p">)</span>
<span class="gp">tarantool&gt; </span><span class="n">s</span><span class="p">:</span><span class="n">create_index</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">primary&#39;</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">         &gt; </span>  <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">hash&#39;</span><span class="p">,</span>
<span class="gp">         &gt; </span>  <span class="n">parts</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">NUM&#39;</span><span class="p">}</span>
<span class="gp">         &gt; </span><span class="p">})</span>
</pre></div>
</div>
<p>To insert three “tuples” (our name for “records”) into the first “space” of the database try this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">({</span><span class="mi">1</span><span class="p">})</span>
<span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">({</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Music&#39;</span><span class="p">})</span>
<span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">({</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Length&#39;</span><span class="p">,</span> <span class="mi">93</span><span class="p">})</span>
</pre></div>
</div>
<p>To select a tuple from the first space of the database, using the first defined key, try this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">s</span><span class="p">:</span><span class="nb">select</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
<p>Your terminal screen should now look like this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">tester&#39;</span><span class="p">)</span>
<span class="go">2014-06-10 12:04:18.158 ... creating &#39;./00000000000000000002.xlog.inprogress&#39;</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="go">tarantool&gt;s:create_index(&#39;primary&#39;, {type = &#39;hash&#39;, parts = {1, &#39;NUM&#39;}})</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Music&#39;</span><span class="p">}</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">:</span><span class="n">insert</span><span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Length&#39;</span><span class="p">,</span> <span class="mi">93</span><span class="p">}</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">s</span><span class="p">:</span><span class="nb">select</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span>
<span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">3</span><span class="p-Indicator">,</span> <span class="s">&#39;Length&#39;</span><span class="p-Indicator">,</span> <span class="nv">93</span><span class="p-Indicator">]</span>
<span class="nn">...</span>
<span class="go">tarantool&gt;</span>
</pre></div>
</div>
<p>Now, to prepare for the example in the next section, try this:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">schema</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">grant</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">guest&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">read,write,execute&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">universe&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="starting-another-tarantool-instance-and-connecting-remotely">
<h2>2.2. Starting another Tarantool instance and connecting remotely<a class="headerlink" href="#starting-another-tarantool-instance-and-connecting-remotely" title="Ссылка на этот заголовок">¶</a></h2>
<p>In the previous section the first request was with <code class="code docutils literal"><span class="pre">box.cfg{listen</span> <span class="pre">=</span> <span class="pre">3301}</span></code>.
The <code class="code docutils literal"><span class="pre">listen</span></code> value can be any form of URI (uniform resource identifier);
in this case it's just a local port: port 3301.
It's possible to send requests to the listen URI via (a) telnet,
(b) a connector (which will be the subject of Chapter 8),
or (c) another instance of Tarantool. Let's try (c).</p>
<p>Switch to another terminal.
On Linux, for example, this means starting another instance of a Bash shell.
There is no need to use cd to switch to the <code class="code docutils literal"><span class="pre">~/tarantool_sandbox</span></code> directory.</p>
<p>Start the second instance of Tarantool. The server name is tarantool.</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> <span class="c"># if you downloaded a binary with apt-get or yum, say this:</span>
<span class="gp">$</span> /usr/bin/tarantool
<span class="gp">$</span> <span class="c"># if you downloaded and untarred a</span>
<span class="gp">$</span> <span class="c"># binary tarball to ~/tarantool, say this:</span>
<span class="gp">$</span> ~/tarantool/bin/tarantool
<span class="gp">$</span> <span class="c"># if you built from a source download, say this:</span>
<span class="gp">$</span> ~/tarantool/src/tarantool
</pre></div>
</div>
<p>Try these requests:</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">console</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">console&#39;</span><span class="p">)</span>
<span class="gp">tarantool&gt; </span><span class="n">console</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">localhost:3301&#39;</span><span class="p">)</span>
<span class="gp">tarantool&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="nb">select</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
<p>The requests are saying &quot;use the <a class="reference internal" href="../reference/console.html#package-console"><span>console package</span></a>
to connect to the Tarantool server that's listening
on <code class="docutils literal"><span class="pre">localhost:3301</span></code>, send a request to that server,
and display the result.&quot; The result in this case is
one of the tuples that was inserted earlier.
Your terminal screen should now look like this:</p>
<p>...</p>
<div class="highlight-tarantoolsession"><div class="highlight"><pre><span class="gp">tarantool&gt; </span><span class="n">console</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">console&#39;</span><span class="p">)</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">tarantool&gt; </span><span class="n">console</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">localhost:3301&#39;</span><span class="p">)</span>
<span class="go">2014-08-31 12:46:54.650 [32628] main/101/interactive I&gt; connected to localhost:3301</span>
<span class="nn">---</span>
<span class="nn">...</span>
<span class="gp">localhost:3301&gt; </span><span class="n">box</span><span class="p">.</span><span class="n">space</span><span class="p">.</span><span class="n">tester</span><span class="p">:</span><span class="nb">select</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span>
<span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="p-Indicator">-</span> <span class="p-Indicator">[</span><span class="nv">2</span><span class="p-Indicator">,</span> <span class="s">&#39;Music&#39;</span><span class="p-Indicator">]</span>
<span class="nn">...</span>
<span class="go">localhost:3301&gt;</span>
</pre></div>
</div>
<p>You can repeat <code class="code docutils literal"><span class="pre">box.space...:insert{}</span></code> and <code class="code docutils literal"><span class="pre">box.space...:select{}</span></code>
indefinitely, on either Tarantool instance.
When the testing is over: To drop the space: <code class="code docutils literal"><span class="pre">s:drop()</span></code>.
To stop tarantool: Ctrl+C. To stop tarantool (an alternative):
<code class="code docutils literal"><span class="pre">os.exit()</span></code>. To stop tarantool (from another terminal):
<code class="code docutils literal"><span class="pre">sudo</span> <span class="pre">pkill</span> <span class="pre">-f</span> <span class="pre">tarantool</span></code>.
To destroy the test: <code class="code docutils literal"><span class="pre">rm</span> <span class="pre">-r</span> <span class="pre">~/tarantool_sandbox</span></code>.</p>
<p>To review ... If you followed all the instructions
in this chapter, then so far you have: installed Tarantool
from either a binary or a source repository,
started up the Tarantool server, inserted and selected tuples.</p>
</div>
</div>


        </article>


<div class="b-page_over-tail">

    
    <a href="intro.html" class="b-prev">1. Preface</a>
    
    
    <a href="box/index.html" class="b-next">3. Database</a>
    
</div>


      </div>
    </div>
  </div>
  

      </div>
    </div>

    <!-- FOOTER > -->
    <footer class="b-footer">
      <div class="b-footer-wrapper">
        <nav class="b-footer_menu">
          
  <ul class="b-menu">
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org" class="b-menu-item-url">Overview</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://try.tarantool.org" class="b-menu-item-url">Try</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/doc/" class="b-menu-item-url p-active">Documentation</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/download.html" class="b-menu-item-url">Download</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://tarantool.org/careers.html" class="b-menu-item-url">Careers</a>
        
      </li>
    
      <li class="b-menu-item">
        
        <a href="http://rocks.tarantool.org" class="b-menu-item-url">Rocks</a>
        
      </li>
    
  </ul>

          <div class="b-footer-other">
            <a href="http://stable.tarantool.org">1.5 web site and downloads</a>
          </div>
        </nav>
      </div>
    </footer>
  <!-- < FOOTER -->
  </body>
</html>

